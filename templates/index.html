<!DOCTYPE html>
<html lang="en">
    <head>
        <meta http-equiv="content-type" content="text/html; charset=UTF-8">
        <meta charset="utf-8">
        <meta http-equiv="refresh" content="20">
        <title>Fraud Dashboard</title>
        <meta name="generator" content="Bootply" />
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
        <meta name="description" content="example of a Bootstrap dashboard template with  collapsible offcanvas sidebar. The left sidebar collaspes on smaller screens and can be toggled." />
        <link href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" rel="stylesheet">
        <link rel="apple-touch-icon" href="/bootstrap/img/apple-touch-icon.png">
        <link rel="apple-touch-icon" sizes="72x72" href="/bootstrap/img/apple-touch-icon-72x72.png">
        <link rel="apple-touch-icon" sizes="114x114" href="/bootstrap/img/apple-touch-icon-114x114.png">
        {{css_code|safe}}
<style type="text/css">
body {
  padding-top: 0px;
  background-color: 'white';
}
footer {
  padding-left: 15px;
  padding-right: 15px;
  background-color: #fff;
}
/*
 * Off Canvas
 * --------------------------------------------------
 */
@media screen and (max-width: 2000px) {
  .row-offcanvas {
    position: relative;
    -webkit-transition: all 0.25s ease-out;
    -moz-transition: all 0.25s ease-out;
    transition: all 0.25s ease-out;
  }
  .row-offcanvas-left
  .sidebar-offcanvas {
    left: -33%;
  }
  .row-offcanvas-left.active {
    left: 33%;
  }
  .sidebar-offcanvas {
    position: absolute;
    top: 0;
    width: 33%;
    margin-left: 10px;
  }
}
/* Sidebar navigation */
.nav-sidebar {
  background-color: #f5f5f5;
  margin-right: -15px;
  margin-bottom: 20px;
  margin-left: -15px;
}
.nav-sidebar > li > a {
  padding-right: 20px;
  padding-left: 20px;
}
.nav-sidebar > .active > a {
  color: #fff;
  background-color: #428bca;
}
.navbar-form{padding-bottom: 10px}
/*
 * Main content
 */
.img-circle{
  border-radius:50%;
  box-shadow: 5px 5px 10px black;
}
.main {
  margin-right: 50px;
  margin-left: 50px;
  padding: 20px;
  background-color: #fff;
}
@media (min-width: 900px) {
  .main {
    padding-right: 40px;
    padding-left: 40px;
  }
}
.main .page-header {
  margin-top: 0;
}
        </style>
    </head>


    <body>

<div class="container-fluid">

      <div class="row row-offcanvas row-offcanvas-left">

        <div class="col-sm-9 col-md-10 main">

		  <h2 class="page-header">
            Fraud Detection Dashboard
          </h2>
          <form class="navbar-form" style='float:left'>
            <input type="text" class="form-control" placeholder="False Positive Cost $">
            <input type="text" class="form-control" placeholder="False Negative Cost $">
            <input type="text" class="form-control" placeholder="True Positive Cost $">
            <input type="text" class="form-control" placeholder="True Negative Cost $">
            <input type="submit" class="form-control" value="Start" />
          </form>
          <form class="navbar-form" style='float:right'>
          <input type="submit" class="form-control" value="Clear" />
        </form>
        <form class="navbar-form" style='float:right'>
        <input type="submit" class="form-control" value="Stop" />
      </form>
          <p></p>
          <div style='display:inline-block; width:100%'>
          <div class="row placeholders">
            <div class="col-xs-6 col-sm-3 placeholder text-center">
              <img ID='high' src="//placeholdit.imgix.net/~text?txtsize=19&bg=994d00&txtclr=ffffff&txt=0%20events&w=150&h=150" class="center-block img-responsive img-circle" alt="Generic placeholder thumbnail">
              <h4>High Risk</h4>

            </div>
            <div class="col-xs-6 col-sm-3 placeholder text-center">
              <img ID='highest' src="//placeholdit.imgix.net/~text?txtsize=19&bg=990000&txtclr=ffffff&txt=ID%20=%20000&w=150&h=150" class="center-block img-responsive img-circle" alt="Generic placeholder thumbnail">
              <h4>Highest Risk</h4>
              <span class="text-muted">Click if addressed</span>
            </div>
          </div>
          <p></p>
          <p></p>
          <p></p>
          <div class="row placeholders">
            <div class="col-xs-6 col-sm-3 placeholder text-center">
              <img ID='low' src="//placeholdit.imgix.net/~text?txtsize=19&bg=32AD32&txtclr=ffffff&txt=0%20events&w=150&h=150" class="center-block img-responsive img-circle" alt="Generic placeholder thumbnail">
              <h4>Low Risk</h4>

            </div>
            <div class="col-xs-6 col-sm-3 placeholder text-center">
              <img ID='medium' src="//placeholdit.imgix.net/~text?txtsize=19&bg=3232AD&txtclr=ffffff&txt=0%20events&w=150&h=150" class="center-block img-responsive img-circle" alt="Generic placeholder thumbnail">
              <h4>Medium risk</h4>

            </div>
          </div>
        </div>

        <div style = 'float:left'> {{div_code|safe}} </div>

          <hr>


          <div class="table-responsive" style='float:right'>
            <h3 class="sub-header">Live Event Feed

            </h3>
            <table ID='dynamic-data' class="table table-striped">
              <thead>
                <tr>
                  <th>Event ID</th>
                  <th>User Name</th>
                  <th>Event Name</th>
                  <th>Event Created</th>
                  <th>Event Start</th>
                  <th>Country</th>
                  <th>Fraud Risk</th>
                </tr>
              </thead>
              <tbody>

              </tbody>
            </table>
          </div>


      </div><!--/row-->
	</div>
</div><!--/.container-->

      {{script_code|safe }}
      {{js_code|safe }}
        <script type='text/javascript' src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>


        <script type='text/javascript' src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>

        <script type='text/javascript'>
        $(document).ready(function(){
            var rows = {{output|safe }};
            var i = 0; j = 0; k = 0, l = 0;
                $(rows).each(function(index,element){
                  if (element['risk'] == 'High'){j = j+1; i = element['object_id']};
                  if (element['risk'] == 'Low'){l = l+1};
                  if (element['risk'] == 'Medium'){k = k+1}
    console.log(index); console.log(element);
    $('#dynamic-data').append('<tr><td>' + element['object_id'] + '</td><td>'+ element['org_name'] + '</td>' + "/" + '<td>' + element['name'] +
                        '<td>' + element['event_created'] + '</td>'+
                        '<td>' + element['event_start'] + '</td>'+'<td>' + element['country'] + '</td>'+ element['style'] + element['risk'] + '</td>'+'</tr></table>');
});
      document.getElementById("highest").src="//placeholdit.imgix.net/~text?txtsize=19&bg=990000&txtclr=ffffff&txt=ID:"+i+"&w=150&h=150";;
      document.getElementById("high").src="//placeholdit.imgix.net/~text?txtsize=19&bg=994d00&txtclr=ffffff&txt="+j+"%20events&w=150&h=150";;
      document.getElementById("medium").src="//placeholdit.imgix.net/~text?txtsize=19&bg=3232AD&txtclr=ffffff&txt="+k+"%20events&w=150&h=150";;
      document.getElementById("low").src="//placeholdit.imgix.net/~text?txtsize=19&bg=32AD32&txtclr=ffffff&txt="+l+"%20events&w=150&h=150";
        });
        </script>





        <!-- JavaScript jQuery code from Bootply.com editor  -->

        <script type='text/javascript'>
            $(document).ready(function() {
  $('[data-toggle=offcanvas]').click(function() {
    $('.row-offcanvas').toggleClass('active');
  });
});
        </script>

        <script>
          (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
          (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
          })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
          ga('create', 'UA-40413119-1', 'bootply.com');
          ga('send', 'pageview');
        </script>


    </body>
</html>
